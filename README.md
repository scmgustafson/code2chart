# Code2Chart - Automated MermaidJS Diagram Generator via OpenAI

[![MIT License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

Code2Chart is a tool that leverages AI to analyze your codebase and generate [MermaidJS](https://mermaid-js.github.io/) diagrams automatically. It is designed to help developers visualize project structure, dependencies, and relationships with minimal manual effort. Never let your module diagrams grow stale again!

## Features

- **Automated Codebase Analysis:** Uses AI to summarize and infer relationships between files.
- **MermaidJS Output:** Generates ready-to-use Mermaid diagrams for documentation.
- **CLI Tool:** Simple command-line interface for easy integration into workflows.
- **Append or Overwrite:** Choose to append diagrams to existing markdown files or create new ones.
- **Customizable:** Easily extend or adapt for different project structures.

## Getting Started

1. **Clone the repository:**

```bash
git clone https://github.com/yourusername/code2chart.git
cd code2chart
```

2. **Install dependencies:**

```bash
pip install -r requirements.txt
```

3. **Set up your API key:**

- Ensure you have an OpenAI API key set in your environment variables.

4. **Run the generator:**

```bash
python main.py <input_directory> --output README.md
```

- Use `--append` if you want to append to an existing file.

## Example

See [`samples/nextjs_mermaid_example.md`](samples/nextjs_mermaid_example.md) for a sample output.

## License

This project is licensed under the MIT License. Do whatever you want with it!

## Acknowledgements

- Inspired by [MermaidJS](https://mermaid-js.github.io/).
- Example SaaS starter code sample from [Vercel's Next.js SaaS Starter](https://github.com/vercel/nextjs-saas-starter) (MIT License).
- Uses [OpenAI](https://platform.openai.com/) for code summarization and relationship inference.

## Contributing

Contributions are welcome! Please open issues or submit pull requests to help improve this project.

---

## MermaidJS Diagram - Generated by [Code2Chart](https://github.com/scmgustafson/code2chart/tree/main)
```mermaid
%%{init: {"theme":"neutral","themeVariables":{"edgeLabelBackground":"#ffffff"}}}%%
graph TD
  subgraph Root_Files
    CP["config.py\nCentral configuration for AI settings, tool behavior, and Mermaid syntax validation"]
    PI["pytest.ini\nPytest configuration"]
    MP["main.py\nCommand-line entrypoint orchestrating analysis and diagram generation"]
  end

  subgraph Utilities
    UFU["utilities/file_utils.py\nFile operations and Mermaid syntax validation"]
    UAU["utilities/auth.py\nHandles retrieval and validation of the OpenAI API key"]
    UAR["utilities/ai_requests.py\nWraps OpenAI API calls for summarization, relationship inference, and diagram output"]
    CR["credentials.py\n(Optional fallback for API key)"]
  end

  subgraph Prompts
    PT["prompts/templates.py\nPrompt templates for LLM interactions"]
  end

  subgraph Tests
    TAR["tests/test_ai_requests.py\nUnit tests for AI request functions"]
    TFU["tests/test_file_utils.py\nUnit tests for file utilities"]
    TAU["tests/test_auth.py\nUnit tests for API key handling"]
    TMN["tests/test_main.py\nUnit tests for main.py pre-checks"]
    TTP["tests/test_templates.py\nUnit tests for prompt templates"]
  end

  %% Main dependencies
  MP -->|depends on| CP
  MP -->|depends on| UFU
  MP -->|depends on| UAU
  MP -->|depends on| UAR

  %% Utilities dependencies
  UFU -->|depends on| CP
  UAR -->|depends on| CP
  UAR -->|depends on| PT
  UAU -->|optionally depends on| CR

  %% Test dependencies
  TAR -->|tests ai_requests| UAR
  TFU -->|tests file_utils| UFU
  TFU -->|uses config| CP
  TAU -->|tests auth| UAU
  TMN -->|tests main| MP
  TTP -->|tests templates| PT

  classDef file fill:#d5f5e3,stroke:#333,color:#333
  class CP,PI,MP,UFU,UAU,UAR,PT,TAR,TFU,TAU,TMN,TTP,CR file
```
<!-- END AUTOMATED MERMAID -->
